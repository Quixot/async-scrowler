<?php
/**
 * kcentr.ru
 */
switch (EXTRA_PARAM) {
	case  'chelyabinsk':  
		$region = 'store[city]=Челябинск;store[city_id]=2197;store[kladr]=74000001000;store[manual_select]=1;store[region]=a376e68d-724a-4472-be7c-891bdb09ae32'; 
		$coockiecapt = 'Челябинск;2197;74000001000;1;a376e68d-724a-4472-be7c-891bdb09ae32';
		$city = 'Челябинск';
		break;	
	case  'habarovsk':  
		$region = 'store[city]=Хабаровск;store[city_id]=398;store[manual_select]=1;store[kladr]=27000001000;store[region]=a4859da8-9977-4b62-8436-4e1b98c5d13f'; 
		$coockiecapt = 'Хабаровск;398;1;27000001000;a4859da8-9977-4b62-8436-4e1b98c5d13f';
		$city = 'Хабаровск';
		break;	
	case  'kazan':  
		$region = 'store[city]=Казань;store[city_id]=5068;store[kladr]=16000001000;store[manual_select]=1;store[region]=93b3df57-4c89-44df-ac42-96f05e9cd3b9'; 
		$coockiecapt = 'Казань;5068;16000001000;1;93b3df57-4c89-44df-ac42-96f05e9cd3b9';
		$city = 'Казань';
		break;
	case  'krasnodar':  
		$region = 'store[city]=Краснодар;store[city_id]=941;store[kladr]=23000001000;store[manual_select]=1;store[region]=7dfa745e-aa19-4688-b121-b655c11e482f'; 
		$coockiecapt = 'Краснодар;941;23000001000;1;7dfa745e-aa19-4688-b121-b655c11e482f';
		$city = 'Краснодар';
		break;	
	case  'krasnoyarsk':  
		$region = 'store[city]=Красноярск;store[city_id]=1447;store[kladr]=24000001000;store[manual_select]=1;store[region]=9b968c73-f4d4-4012-8da8-3dacd4d4c1bd'; 
		$coockiecapt = 'Красноярск;1447;24000001000;1;9b968c73-f4d4-4012-8da8-3dacd4d4c1bd';
		$city = 'Красноярск';
		break;		
	case  'moscow':  
		$region = 'store[city]=Москва;store[city_id]=1898;store[kladr]=77000000000;store[manual_select]=1;store[region]=0c5b2444-70a0-4932-980c-b4dc0d3f02b5'; 
		$coockiecapt = 'Москва;1898;77000000000;1;0c5b2444-70a0-4932-980c-b4dc0d3f02b5';
		$city = 'Москва';
		break;  
	case  'novgorod':  
		$region = 'store[city]=%D0%9D%D0%B8%D0%B6%D0%BD%D0%B8%D0%B9+%D0%9D%D0%BE%D0%B2%D0%B3%D0%BE%D1%80%D0%BE%D0%B4;store[city_id]=2272;store[kladr]=52000001000;store[manual_select]=1;store[region]=555e7d61-d9a7-4ba6-9770-6caa8198c483'; 
		$coockiecapt = '%D0%9D%D0%B8%D0%B6%D0%BD%D0%B8%D0%B9+%D0%9D%D0%BE%D0%B2%D0%B3%D0%BE%D1%80%D0%BE%D0%B4;2272;52000001000;1;555e7d61-d9a7-4ba6-9770-6caa8198c483';
		$city = 'Нижний Новгород';
		break;		 
  case 'novosibirsk': 
  	$region = 'store[city]=Новосибирск;store[city_id]=1091;store[kladr]=54000001000;store[manual_select]=1;store[region]=8dea00e3-9aab-4d8e-887c-ef2aaa546456'; 
  	$coockiecapt = 'Новосибирск;1091;54000001000;1;8dea00e3-9aab-4d8e-887c-ef2aaa546456';
  	$city = 'Новосибирск';
  	break;	
	case  'omsk':  
		$region = 'store[city]=Омск;store[city_id]=2689;store[kladr]=55000001000;store[manual_select]=1;store[region]=140e31da-27bf-4519-9ea0-6185d681d44e'; 
		$coockiecapt = 'Омск;2689;55000001000;1;140e31da-27bf-4519-9ea0-6185d681d44e';
		$city = 'Омск';
		break;  	
	case  'petrozavodsk':  
		$region = 'store[city]=Петрозаводск;store[city_id]=5336;store[kladr]=10000001000;store[manual_select]=1;store[region]=ccc34487-8fd4-4e71-b032-f4e6c82fb354'; 
		$coockiecapt = 'Петрозаводск;5336;1;10000001000;ccc34487-8fd4-4e71-b032-f4e6c82fb354';
		$city = 'Петрозаводск';
		break;
 	case 'perm': 
 		$region = 'store[city]=Пермь;store[city_id]=2686;store[kladr]=59000001000;store[manual_select]=1;store[region]=a309e4ce-2f36-4106-b1ca-53e0f48a6d95'; 
 		$coockiecapt = 'Пермь;2686;59000001000;1;a309e4ce-2f36-4106-b1ca-53e0f48a6d95';
 		$city = 'Пермь';
 		break;
	case 'pyatigorsk':  
		$region = 'store[city]=Пятигорск;store[city_id]=3386;store[kladr]=26000007000;store[manual_select]=1;store[region]=9b0efbd0-22bb-400d-86db-ddc69b9939d9';
		$coockiecapt = 'Пятигорск;3386;26000007000;1;9b0efbd0-22bb-400d-86db-ddc69b9939d9';
		$city = 'Пятигорск';
		break;
	case 'rostov':
		$region = 'store[city]=Ростов-на-Дону;store[city_id]=3261;store[kladr]=61000001000;store[manual_select]=1;store[region]=c1cfe4b9-f7c2-423c-abfa-6ed1c05a15c5';
		$coockiecapt = 'Ростов-на-Дону;3261;61000001000;1;c1cfe4b9-f7c2-423c-abfa-6ed1c05a15c5';
		$city = 'Ростов-на-Дону';
		break;
  case 'samara': 
  	$region = 'store[city]=Самара;store[city_id]=1619;store[kladr]=63000001000;store[manual_select]=1;store[region]=bb035cc3-1dc2-4627-9d25-a1bf2d4b936b'; 
  	$coockiecapt = 'Самара;1619;63000001000;1;bb035cc3-1dc2-4627-9d25-a1bf2d4b936b';
  	$city = 'Самара';
  	break;
	case  'spb':  
		$region = 'store[city]=Санкт-Петербург;store[city_id]=2198;store[kladr]=78000000000;store[manual_select]=1;store[region]=c2deb16a-0330-4f05-821f-1d09c93331e6'; 
		$coockiecapt = 'Санкт-Петербург;2198;78000000000;1;c2deb16a-0330-4f05-821f-1d09c93331e6';
		$city = 'Санкт-Петербург';
		break;
 	case 'ufa': 
 		$region = 'store[city]=Уфа;store[city_id]=865;store[kladr]=02000001000;store[manual_select]=1;store[region]=7339e834-2cb4-4734-a4c7-1fca2c66e562'; 
 		$coockiecapt = 'Уфа;865;02000001000;1;7339e834-2cb4-4734-a4c7-1fca2c66e562';
 		$city = 'Уфа';
 		break;
	case  'vladivostok':  
		$region = 'store[city]=Владивосток;store[city_id]=4196;store[kladr]=25000001000;store[manual_select]=1;store[region]=7b6de6a5-86d0-4735-b11a-499081111af8'; 
		$coockiecapt = 'Владивосток;4196;25000001000;1;7b6de6a5-86d0-4735-b11a-499081111af8';
		$city = 'Владивосток';
		break;
	case  'volgograd':  
		$region = 'store[city]=Волгоград;store[city_id]=1837;store[kladr]=34000001000;store[manual_select]=1;store[region]=a52b7389-0cfe-46fb-ae15-298652a64cf8'; 
		$coockiecapt = 'Волгоград;1837;34000001000;1;a52b7389-0cfe-46fb-ae15-298652a64cf8';
		$city = 'Волгоград';
		break;	
 	case 'yekaterinburg': 
 		$region = 'store[city]=Екатеринбург;store[city_id]=1667;store[kladr]=66000001000;store[manual_select]=1;store[region]=2763c110-cb8b-416a-9dac-ad28a55b4402'; 
 		$coockiecapt = 'Екатеринбург;1667;66000001000;1;2763c110-cb8b-416a-9dac-ad28a55b4402';
 		$city = 'Екатеринбург';
 	case 'naberezhnye-chelny': 
 		$region = 'store[city]=Набережные Челны;store[city_id]=1610;store[kladr]=16000002000;store[manual_select]=1;store[region]=748d7afa-7407-4876-9f40-764ecdd09bbd'; 
 		$coockiecapt = 'Набережные Челны;1610;16000002000;1;748d7afa-7407-4876-9f40-764ecdd09bbd';
 		$city = 'Набережные Челны';
 		break;  
	case  'cheboksary':  
		$region = 'store[city]=Чебоксары;store[city_id]=2015;store[kladr]=21000001000;store[manual_select]=1;store[region]=dd8caeab-c685-4f2a-bf5f-550aca1bbc48';
 		$coockiecapt = 'Чебоксары;2015;21000001000;1;dd8caeab-c685-4f2a-bf5f-550aca1bbc48';
 		$city = 'Чебоксары';
 		break;

 	case 'abakan': $region = 'store[city]=%D0%90%D0%B1%D0%B0%D0%BA%D0%B0%D0%BD;store[kladr]=19000001000'; break;
 	case 'almetevsk': $region = 'store[city]=%D0%90%D0%BB%D1%8C%D0%BC%D0%B5%D1%82%D1%8C%D0%B5%D0%B2%D1%81%D0%BA;store[kladr]=16008001000'; break;
	case  'anapa':  $region = 'store[city]=%D0%90%D0%BD%D0%B0%D0%BF%D0%B0;store[kladr]=23003001000'; break;
	case  'angarsk':  $region = 'store[city]=%D0%90%D0%BD%D0%B3%D0%B0%D1%80%D1%81%D0%BA;store[kladr]=38000004000'; break;
	case  'apatity':  $region = 'store[city]=%D0%90%D0%BF%D0%B0%D1%82%D0%B8%D1%82%D1%8B;store[kladr]=51000002000'; break;
	case  'arzamas':  $region = 'store[city]=%D0%90%D1%80%D0%B7%D0%B0%D0%BC%D0%B0%D1%81;store[kladr]=52000004000'; break;
	case  'armavir':  $region = 'store[city]=%D0%90%D1%80%D0%BC%D0%B0%D0%B2%D0%B8%D1%80;store[kladr]=23000002000'; break;
	case  'astrakhan':  $region = 'store[city]=%D0%90%D1%81%D1%82%D1%80%D0%B0%D1%85%D0%B0%D0%BD%D1%8C;store[kladr]=30000001000'; break;
	case  'achinsk':  $region = 'store[city]=%D0%90%D1%87%D0%B8%D0%BD%D1%81%D0%BA;store[kladr]=24000012000'; break;
	case  'balakovo':  $region = 'store[city]=%D0%91%D0%B0%D0%BB%D0%B0%D0%BA%D0%BE%D0%B2%D0%BE;store[kladr]=64000004000'; break;
	case  'barnaul':  $region = 'store[city]=%D0%91%D0%B0%D1%80%D0%BD%D0%B0%D1%83%D0%BB;store[kladr]=22000001000'; break;
	case  'belgorod':  $region = 'store[city]=%D0%91%D0%B5%D0%BB%D0%B3%D0%BE%D1%80%D0%BE%D0%B4;store[kladr]=31000001000'; break;
	case  'berezniki':  $region = 'store[city]=%D0%91%D0%B5%D1%80%D0%B5%D0%B7%D0%BD%D0%B8%D0%BA%D0%B8;store[kladr]=59000002000'; break;
	case  'biysk':  $region = 'store[city]=%D0%91%D0%B8%D0%B9%D1%81%D0%BA;store[kladr]=22000004000'; break;
	case  'blagoveschensk':  $region = 'store[city]=%D0%91%D0%BB%D0%B0%D0%B3%D0%BE%D0%B2%D0%B5%D1%89%D0%B5%D0%BD%D1%81%D0%BA;store[kladr]=28000001000'; break;
	case  'borisoglebsk':  $region = 'store[city]=%D0%91%D0%BE%D1%80%D0%B8%D1%81%D0%BE%D0%B3%D0%BB%D0%B5%D0%B1%D1%81%D0%BA;store[kladr]=36005001000'; break;
	case  'bratsk':  $region = 'store[city]=%D0%91%D1%80%D0%B0%D1%82%D1%81%D0%BA;store[kladr]=38000005000'; break;
	case  'bryansk':  $region = 'store[city]=%D0%91%D1%80%D1%8F%D0%BD%D1%81%D0%BA;store[kladr]=32000001000'; break;
	case  'velikijnovgorod':  $region = 'store[city]=%D0%92%D0%B5%D0%BB%D0%B8%D0%BA%D0%B8%D0%B9+%D0%9D%D0%BE%D0%B2%D0%B3%D0%BE%D1%80%D0%BE%D0%B4;store[kladr]=53000001000'; break;
	case  'vladikavkaz':  $region = 'store[city]=%D0%92%D0%BB%D0%B0%D0%B4%D0%B8%D0%BA%D0%B0%D0%B2%D0%BA%D0%B0%D0%B7;store[kladr]=15000001000'; break;
	case  'vladimir':  $region = 'store[city]=%D0%92%D0%BB%D0%B0%D0%B4%D0%B8%D0%BC%D0%B8%D1%80;store[kladr]=33000001000'; break;
	case  'volgograd':  $region = 'store[city]=%D0%92%D0%BE%D0%BB%D0%B3%D0%BE%D0%B3%D1%80%D0%B0%D0%B4;store[kladr]=34000001000'; break;
	case  'volgodonsk':  $region = 'store[city]=%D0%92%D0%BE%D0%BB%D0%B3%D0%BE%D0%B4%D0%BE%D0%BD%D1%81%D0%BA;store[kladr]=61000004000'; break;
	case  'volzhskij':  $region = 'store[city]=%D0%92%D0%BE%D0%BB%D0%B6%D1%81%D0%BA%D0%B8%D0%B9;store[kladr]=34000002000'; break;
	case  'vologda':  $region = 'store[city]=%D0%92%D0%BE%D0%BB%D0%BE%D0%B3%D0%B4%D0%B0;store[kladr]=35000001000'; break;
	case  'voronezh':  $region = 'store[city]=%D0%92%D0%BE%D1%80%D0%BE%D0%BD%D0%B5%D0%B6;store[kladr]=36000001000'; break;
	case  'gubkin':  $region = 'store[city]=%D0%93%D1%83%D0%B1%D0%BA%D0%B8%D0%BD;store[kladr]=31000004000'; break;
	case  'derbent':  $region = 'store[city]=%D0%94%D0%B5%D1%80%D0%B1%D0%B5%D0%BD%D1%82;store[kladr]=05000006000'; break;
	case  'dimitrovgrad':  $region = 'store[city]=%D0%94%D0%B8%D0%BC%D0%B8%D1%82%D1%80%D0%BE%D0%B2%D0%B3%D1%80%D0%B0%D0%B4;store[kladr]=73000002000'; break;
	case  'essentuki':  $region = 'store[city]=%D0%95%D1%81%D1%81%D0%B5%D0%BD%D1%82%D1%83%D0%BA%D0%B8;store[kladr]=26000002000'; break;
	case  'zheleznogorsk':  $region = 'store[city]=%D0%96%D0%B5%D0%BB%D0%B5%D0%B7%D0%BD%D0%BE%D0%B3%D0%BE%D1%80%D1%81%D0%BA;store[kladr]=46000003000'; break;
	case  'ivanovo':  $region = 'store[city]=%D0%98%D0%B2%D0%B0%D0%BD%D0%BE%D0%B2%D0%BE;store[kladr]=37000001000'; break;
	case  'izhevsk':  $region = 'store[city]=%D0%98%D0%B6%D0%B5%D0%B2%D1%81%D0%BA;store[kladr]=18000001000'; break;
	case  'irkutsk':  $region = 'store[city]=%D0%98%D1%80%D0%BA%D1%83%D1%82%D1%81%D0%BA;store[kladr]=38000003000'; break;
	case  'joshkar-ola':  $region = 'store[city]=%D0%99%D0%BE%D1%88%D0%BA%D0%B0%D1%80-%D0%9E%D0%BB%D0%B0;store[kladr]=12000001000'; break;
	case  'kaliningrad':  $region = 'store[city]=%D0%9A%D0%B0%D0%BB%D0%B8%D0%BD%D0%B8%D0%BD%D0%B3%D1%80%D0%B0%D0%B4;store[kladr]=39000001000'; break;
	case  'kaluga':  $region = 'store[city]=%D0%9A%D0%B0%D0%BB%D1%83%D0%B3%D0%B0;store[kladr]=40000001000'; break;
	case  'kamyshin':  $region = 'store[city]=%D0%9A%D0%B0%D0%BC%D1%8B%D1%88%D0%B8%D0%BD;store[kladr]=34000003000'; break;
	case  'kasimov':  $region = 'store[city]=%D0%9A%D0%B0%D1%81%D0%B8%D0%BC%D0%BE%D0%B2;store[kladr]=62000004000'; break;
	case  'kemerovo':  $region = 'store[city]=%D0%9A%D0%B5%D0%BC%D0%B5%D1%80%D0%BE%D0%B2%D0%BE;store[kladr]=42000009000'; break;
	case  'kirov':  $region = 'store[city]=%D0%9A%D0%B8%D1%80%D0%BE%D0%B2;store[kladr]=43000001000'; break;
	case  'kislovodsk':  $region = 'store[city]=%D0%9A%D0%B8%D1%81%D0%BB%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D0%BA;store[kladr]=26000004000'; break;
	case  'kostroma':  $region = 'store[city]=%D0%9A%D0%BE%D1%81%D1%82%D1%80%D0%BE%D0%BC%D0%B0;store[kladr]=44000003000'; break;
	case  'krasnoturinsk':  $region = 'store[city]=%D0%9A%D1%80%D0%B0%D1%81%D0%BD%D0%BE%D1%82%D1%83%D1%80%D1%8C%D0%B8%D0%BD%D1%81%D0%BA;store[kladr]=66000010000'; break;
	case  'kropotkin':  $region = 'store[city]=%D0%9A%D1%80%D0%BE%D0%BF%D0%BE%D1%82%D0%BA%D0%B8%D0%BD;store[kladr]=23012001000'; break;
	case  'kurgan':  $region = 'store[city]=%D0%9A%D1%83%D1%80%D0%B3%D0%B0%D0%BD;store[kladr]=45000001000'; break;
	case  'kursk':  $region = 'store[city]=%D0%9A%D1%83%D1%80%D1%81%D0%BA;store[kladr]=46000001000'; break;
	case  'lipeck':  $region = 'store[city]=%D0%9B%D0%B8%D0%BF%D0%B5%D1%86%D0%BA;store[kladr]=48000001000'; break;
	case  'lyantor':  $region = 'store[city]=%D0%9B%D1%8F%D0%BD%D1%82%D0%BE%D1%80;store[kladr]=86009002000'; break;
	case  'magnitogorsk':  $region = 'store[city]=%D0%9C%D0%B0%D0%B3%D0%BD%D0%B8%D1%82%D0%BE%D0%B3%D0%BE%D1%80%D1%81%D0%BA;store[kladr]=74000009000'; break;
	case  'majkop':  $region = 'store[city]=%D0%9C%D0%B0%D0%B9%D0%BA%D0%BE%D0%BF;store[kladr]=01000001000'; break;
	case  'mahachkala':  $region = 'store[city]=%D0%9C%D0%B0%D1%85%D0%B0%D1%87%D0%BA%D0%B0%D0%BB%D0%B0;store[kladr]=05000001000'; break;
	case  'miass':  $region = 'store[city]=%D0%9C%D0%B8%D0%B0%D1%81%D1%81;store[kladr]=74000010000'; break;
	case  'mineralnye-vody':  $region = 'store[city]=%D0%9C%D0%B8%D0%BD%D0%B5%D1%80%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%92%D0%BE%D0%B4%D1%8B;store[kladr]=26017002000'; break;
	case  'murmansk':  $region = 'store[city]=%D0%9C%D1%83%D1%80%D0%BC%D0%B0%D0%BD%D1%81%D0%BA;store[kladr]=51000001000'; break;
	case  'naberezhnye-chelny':  $region = 'store[city]=%D0%9D%D0%B0%D0%B1%D0%B5%D1%80%D0%B5%D0%B6%D0%BD%D1%8B%D0%B5+%D0%A7%D0%B5%D0%BB%D0%BD%D1%8B;store[kladr]=16000002000'; break;
	case  'nadym':  $region = 'store[city]=%D0%9D%D0%B0%D0%B4%D1%8B%D0%BC;store[kladr]=89000005000'; break;
	case  'nalchik':  $region = 'store[city]=%D0%9D%D0%B0%D0%BB%D1%8C%D1%87%D0%B8%D0%BA;store[kladr]=07000001000'; break;
	case  'nevinnomyssk':  $region = 'store[city]=%D0%9D%D0%B5%D0%B2%D0%B8%D0%BD%D0%BD%D0%BE%D0%BC%D1%8B%D1%81%D1%81%D0%BA;store[kladr]=26000006000'; break;
	case  'neftekamsk':  $region = 'store[city]=%D0%9D%D0%B5%D1%84%D1%82%D0%B5%D0%BA%D0%B0%D0%BC%D1%81%D0%BA;store[kladr]=02000003000'; break;
	case  'nefteyugansk':  $region = 'store[city]=%D0%9D%D0%B5%D1%84%D1%82%D0%B5%D1%8E%D0%B3%D0%B0%D0%BD%D1%81%D0%BA;store[kladr]=86000014000'; break;
	case  'nizhnevartovsk':  $region = 'store[city]=%D0%9D%D0%B8%D0%B6%D0%BD%D0%B5%D0%B2%D0%B0%D1%80%D1%82%D0%BE%D0%B2%D1%81%D0%BA;store[kladr]=86000011000'; break;
	case  'nizhnekamsk':  $region = 'store[city]=%D0%9D%D0%B8%D0%B6%D0%BD%D0%B5%D0%BA%D0%B0%D0%BC%D1%81%D0%BA;store[kladr]=16031001000'; break;
	case  'nizhnij-tagil':  $region = 'store[city]=%D0%9D%D0%B8%D0%B6%D0%BD%D0%B8%D0%B9+%D0%A2%D0%B0%D0%B3%D0%B8%D0%BB;store[kladr]=66000023000'; break;
	case  'novokuzneck':  $region = 'store[city]=%D0%9D%D0%BE%D0%B2%D0%BE%D0%BA%D1%83%D0%B7%D0%BD%D0%B5%D1%86%D0%BA;store[kladr]=42000012000'; break;
	case  'novorossijsk':  $region = 'store[city]=%D0%9D%D0%BE%D0%B2%D0%BE%D1%80%D0%BE%D1%81%D1%81%D0%B8%D0%B9%D1%81%D0%BA;store[kladr]=23000006000'; break;
	case  'novotroick':  $region = 'store[city]=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D0%B8%D0%B1%D0%B8%D1%80%D1%81%D0%BA;store[kladr]=54000001000'; break;
	case  'novocherkassk':  $region = 'store[city]=%D0%9D%D0%BE%D0%B2%D0%BE%D1%87%D0%B5%D1%80%D0%BA%D0%B0%D1%81%D1%81%D0%BA;store[kladr]=61000009000'; break;
	case  'novyj-urengoj':  $region = 'store[city]=%D0%9D%D0%BE%D0%B2%D1%8B%D0%B9+%D0%A3%D1%80%D0%B5%D0%BD%D0%B3%D0%BE%D0%B9;store[kladr]=89000006000'; break;
	case  'noyabrsk':  $region = 'store[city]=%D0%9D%D0%BE%D1%8F%D0%B1%D1%80%D1%8C%D1%81%D0%BA;store[kladr]=89000007000'; break;
	case  'nyagan':  $region = 'store[city]=%D0%9D%D1%8F%D0%B3%D0%B0%D0%BD%D1%8C;store[kladr]=86000005000'; break;
	case  'obninsk':  $region = 'store[city]=%D0%9E%D0%B1%D0%BD%D0%B8%D0%BD%D1%81%D0%BA;store[kladr]=40000002000'; break;
	case  'oktyabrskij':  $region = 'store[city]=%D0%9E%D0%BA%D1%82%D1%8F%D0%B1%D1%80%D1%8C%D1%81%D0%BA%D0%B8%D0%B9;store[kladr]=28012000000'; break;
	
	case  'orel':  $region = 'store[city]=%D0%9E%D1%80%D1%91%D0%BB;store[kladr]=57000001000'; break;
	case  'orenburg':  $region = 'store[city]=%D0%9E%D1%80%D0%B5%D0%BD%D0%B1%D1%83%D1%80%D0%B3;store[kladr]=56000001000'; break;
	case  'orsk':  $region = 'store[city]=%D0%9E%D1%80%D1%81%D0%BA;store[kladr]=56000004000'; break;
	case  'pavlovo':  $region = 'store[city]=%D0%9F%D0%B0%D0%B2%D0%BB%D0%BE%D0%B2%D0%BE;store[kladr]=52032001000'; break;
	case  'penza':  $region = 'store[city]=%D0%9F%D0%B5%D0%BD%D0%B7%D0%B0;store[kladr]=58000001000'; break;
	case  'pervouralsk':  $region = 'store[city]=%D0%9F%D0%B5%D1%80%D0%B2%D0%BE%D1%83%D1%80%D0%B0%D0%BB%D1%8C%D1%81%D0%BA;store[kladr]=66000016000'; break;
	case  'pskov':  $region = 'store[city]=%D0%9F%D1%81%D0%BA%D0%BE%D0%B2;store[kladr]=60000001000'; break;
	case  'revda':  $region = 'store[city]=%D0%A0%D0%B5%D0%B2%D0%B4%D0%B0;store[kladr]=66000018000'; break;
	case  'rybinsk':  $region = 'store[city]=%D0%A0%D1%8B%D0%B1%D0%B8%D0%BD%D1%81%D0%BA;store[kladr]=76015001000'; break;
	case  'ryazan':  $region = 'store[city]=%D0%A0%D1%8F%D0%B7%D0%B0%D0%BD%D1%8C;store[kladr]=62000001000'; break;
	case  'salavat':  $region = 'store[city]=%D0%A1%D0%B0%D0%BB%D0%B0%D0%B2%D0%B0%D1%82;store[kladr]=02000005000'; break;
	case  'saransk':  $region = 'store[city]=%D0%A1%D0%B0%D1%80%D0%B0%D0%BD%D1%81%D0%BA;store[kladr]=13000001000'; break;
	case  'saratov':  $region = 'store[city]=%D0%A1%D0%B0%D1%80%D0%B0%D1%82%D0%BE%D0%B2;store[kladr]=64000001000'; break;
	case  'sarov':  $region = 'store[city]=%D0%A1%D0%B0%D1%80%D0%BE%D0%B2;store[kladr]=52000003000'; break;
	case  'severodvinsk':  $region = 'store[city]=%D0%A1%D0%B5%D0%B2%D0%B5%D1%80%D0%BE%D0%B4%D0%B2%D0%B8%D0%BD%D1%81%D0%BA;store[kladr]=29000004000'; break;
	case  'seversk':  $region = 'store[city]=%D0%A1%D0%B5%D0%B2%D0%B5%D1%80%D1%81%D0%BA;store[kladr]=70000003000'; break;
	case  'smolensk':  $region = 'store[city]=%D0%A1%D0%BC%D0%BE%D0%BB%D0%B5%D0%BD%D1%81%D0%BA;store[kladr]=67000003000'; break;
	case  'solnechnogorsk':  $region = 'store[city]=%D0%A1%D0%BE%D0%BB%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%D0%B3%D0%BE%D1%80%D1%81%D0%BA;store[kladr]=50033001000'; break;
	case  'sochi':  $region = 'store[city]=%D0%A1%D0%BE%D1%87%D0%B8;store[kladr]=23000007000'; break;
	case  'stavropol':  $region = 'store[city]=%D0%A1%D1%82%D0%B0%D0%B2%D1%80%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C;store[kladr]=26000001000'; break;
	case  'staryj-oskol':  $region = 'store[city]=%D0%A1%D1%82%D0%B0%D1%80%D1%8B%D0%B9+%D0%9E%D1%81%D0%BA%D0%BE%D0%BB;store[kladr]=31000002000'; break;
	case  'sterlitamak':  $region = 'store[city]=%D0%A1%D1%82%D0%B5%D1%80%D0%BB%D0%B8%D1%82%D0%B0%D0%BC%D0%B0%D0%BA;store[kladr]=02000014000'; break;
	case  'stupino':  $region = 'store[city]=%D0%A1%D1%82%D1%83%D0%BF%D0%B8%D0%BD%D0%BE;store[kladr]=50034001000'; break;
	case  'surgut':  $region = 'store[city]=%D0%A1%D1%83%D1%80%D0%B3%D1%83%D1%82;store[kladr]=86000010000'; break;
	case  'syzran':  $region = 'store[city]=%D0%A1%D1%8B%D0%B7%D1%80%D0%B0%D0%BD%D1%8C;store[kladr]=63000008000'; break;
	case  'syktyvkar':  $region = 'store[city]=%D0%A1%D1%8B%D0%BA%D1%82%D1%8B%D0%B2%D0%BA%D0%B0%D1%80;store[kladr]=11000001000'; break;
	case  'taganrog':  $region = 'store[city]=%D0%A2%D0%B0%D0%B3%D0%B0%D0%BD%D1%80%D0%BE%D0%B3;store[kladr]=61000011000'; break;
	case  'tambov':  $region = 'store[city]=%D0%A2%D0%B0%D0%BC%D0%B1%D0%BE%D0%B2;store[kladr]=68000004000'; break;
	case  'tver':  $region = 'store[city]=%D0%A2%D0%B2%D0%B5%D1%80%D1%8C;store[kladr]=69000001000'; break;
	case  'tobolsk':  $region = 'store[city]=%D0%A2%D0%BE%D0%B1%D0%BE%D0%BB%D1%8C%D1%81%D0%BA;store[kladr]=72000002000'; break;
	case  'tolyatti':  $region = 'store[city]=%D0%A2%D0%BE%D0%BB%D1%8C%D1%8F%D1%82%D1%82%D0%B8;store[kladr]=63000007000'; break;
	case  'tomsk':  $region = 'store[city]=%D0%A2%D0%BE%D0%BC%D1%81%D0%BA;store[kladr]=70000001000'; break;
	case  'tuapse':  $region = 'store[city]=%D0%A2%D1%83%D0%B0%D0%BF%D1%81%D0%B5;store[kladr]=23036001000'; break;
	case  'tula':  $region = 'store[city]=%D0%A2%D1%83%D0%BB%D0%B0;store[kladr]=71000001000'; break;
	case  'tyumen':  $region = 'store[city]=%D0%A2%D1%8E%D0%BC%D0%B5%D0%BD%D1%8C;store[kladr]=72000001000'; break;
	case  'ulan-udeh':  $region = 'store[city]=%D0%A3%D0%BB%D0%B0%D0%BD-%D0%A3%D0%B4%D1%8D;store[kladr]=03000001000'; break;
	case  'ulyanovsk':  $region = 'store[city]=%D0%A3%D0%BB%D1%8C%D1%8F%D0%BD%D0%BE%D0%B2%D1%81%D0%BA;store[kladr]=73000001000'; break;
	case  'uhta':  $region = 'store[city]=%D0%A3%D1%85%D1%82%D0%B0;store[kladr]=47007049000'; break;
	case  'hanty-mansijsk':  $region = 'store[city]=%D0%A5%D0%B0%D0%BD%D1%82%D1%8B-%D0%9C%D0%B0%D0%BD%D1%81%D0%B8%D0%B9%D1%81%D0%BA;store[kladr]=86000001000'; break;
	
	case  'cherepovec':  $region = 'store[city]=%D0%A7%D0%B5%D1%80%D0%B5%D0%BF%D0%BE%D0%B2%D0%B5%D1%86;store[kladr]=35000002000'; break;
	case  'cherkessk':  $region = 'store[city]=%D0%A7%D0%B5%D1%80%D0%BA%D0%B5%D1%81%D1%81%D0%BA;store[kladr]=09000001000'; break;
	case  'chita':  $region = 'store[city]=%D0%A7%D0%B8%D1%82%D0%B0;store[kladr]=75000001000'; break;
	case  'shahty':  $region = 'store[city]=%D0%A8%D0%B0%D1%85%D1%82%D1%8B;store[kladr]=61000012000'; break;
	case  'ehngels':  $region = 'store[city]=%D0%AD%D0%BD%D0%B3%D0%B5%D0%BB%D1%8C%D1%81;store[kladr]=64000013000'; break;
	case  'yugorsk':  $region = 'store[city]=%D0%AE%D0%B3%D0%BE%D1%80%D1%81%D0%BA;store[kladr]=86000016000'; break;
	case  'yakutsk':  $region = 'store[city]=%D0%AF%D0%BA%D1%83%D1%82%D1%81%D0%BA;store[kladr]=14000001000'; break;
	case  'yaroslavl':  $region = 'store[city]=%D0%AF%D1%80%D0%BE%D1%81%D0%BB%D0%B0%D0%B2%D0%BB%D1%8C;store[kladr]=76000001000'; break;
 	default:
 		die("Unknown region\n");  	 		
}

$array_of_request_urls = array();
$options 			 = array(
								CURLOPT_COOKIE => $region,
								//CURLOPT_COOKIEJAR       => '/var/www/xxx/1.txt',
        				CURLOPT_COOKIEFILE      => '/var/www/polaris/engines/kcentr.ru/cook.txt',
                CURLOPT_CONNECTTIMEOUT => 20,
                CURLOPT_TIMEOUT        => 20,
                CURLOPT_AUTOREFERER     => TRUE,
                CURLOPT_FOLLOWLOCATION  => TRUE,
                CURLOPT_HEADER => true, 
                CURLOPT_SSL_VERIFYPEER => 0,
                CURLOPT_SSL_VERIFYHOST => 0
	);
$urlStart = 'https://' . ENGINE_CURR . '/search/?q=polaris&s=';
$urlEnd   = '&PAGEN_1=';
$regexpP1 = "~class=\"catalog-pagenav clearfix(.+)</div>~isU";
$regexpP2 = "~<a.*>(.+)<~isU";
$regexp1  = "~data-uuid=(.+)Status -->~isU";
$regexp2  = "~class=\"product-name.*href=\"(.+)\".*>(.+)<.*product-priceCurrent.*>(.+)</~isU";
$regexp3  = "~class=\"product-name.*href=\"(.+)\".*>(.+)<~isU";


	// Загрузка отсканированных ссылок:
	foreach ($itemsArray as $key => $value) {
		$date = DateTime::createFromFormat('d.m.y-H:i:s', $value[2]);
		//echo (time() - $date->format('U')).PHP_EOL; 
		if (time() - $date->format('U') <= 3800) {
			$already_scanned[] = trim($value[5]);
		}
		
	}
	if ($already_scanned) {
		$already_scanned = array_unique($already_scanned);
		$already_scanned = array_values($already_scanned);
		print_r($already_scanned); 
	} else {
		$already_scanned = array();
	}


	$directLinks = explode("\n", file_get_contents('/var/www/polaris/engines/'.ENGINE_CURR.'/'.ENGINE_TYPE.'.txt'));
	array_walk($directLinks, 'trim_value');
	//print_r($directLinks);

	foreach ($directLinks as $urls) {
		$AC->flush_requests();
		$AC->__set('callback','callback_one');
		
		$is_any = 0;
		if (!in_array($urls, $already_scanned)) {
			echo 'сканирую адрес:'.PHP_EOL.$urls.PHP_EOL;
			$AC->get($urls, null, $options);
			$is_any = 1;
		} else {
			echo 'уже сканировал:'.PHP_EOL.$urls.PHP_EOL;
		}
		if ($is_any) {
			$AC->execute(WINDOW_SIZE);
		}
		

		while ($bad_urls) {      // Перебираем заново адреса, не вернувшие контент
		  $AC->flush_requests(); // Чистим массив запросов
		  foreach ($bad_urls as $urls) { // Готовим новый цикл из битых URLs
		    $AC->get($urls, null, $options);
		  }
		  unset($urls);

		  $bad_urls = array();    // Чистим массив URL-ов для следующего (возможного) цикла    
		  $AC->execute(WINDOW_SIZE);       // Запускаем цикл, пока последний адрес не вернёт контент. Нужно придумать условия выхода!!!!!
		}
		unset($urls);		

		$AC->flush_requests();
		$AC->__set('callback','callback_two');

		if ($qOfPaginationPages > 0) {
			
			for ($i = 1; $i <= $qOfPaginationPages; $i++) {
			  if ($i == 1) {
			  	if (!in_array($urlStart, $already_scanned)) {
			  		echo 'сканирую адрес:'.PHP_EOL.$urlStart.PHP_EOL;
						$AC->get($urlStart, null, $options);
						
				  } else {
						echo 'уже сканировал:'.PHP_EOL.$urlStart.PHP_EOL;
					}
			  } else {
			  	if (!in_array($urlStart.$urlEnd.$i, $already_scanned)) {
			  		echo 'сканирую адрес:'.PHP_EOL.$urlStart.$urlEnd.$i.PHP_EOL;
						$AC->get($urlStart.$urlEnd.$i, null, $options);
						
				  } else {
				  	echo 'уже сканировал:'.PHP_EOL.$urlStart.$urlEnd.$i.PHP_EOL;
				  }
			  }   
			}
			$AC->execute(WINDOW_SIZE);

			while ($bad_urls) {      // Перебираем заново адреса, не вернувшие контент
			  $AC->flush_requests(); // Чистим массив запросов
			  foreach ($bad_urls as $urls) { // Готовим новый цикл из битых URLs
			    $AC->get($urls, NULL, $options);
			  }
			  unset($urls);

			  $bad_urls = array();    // Чистим массив URL-ов для следующего (возможного) цикла    
			  $AC->execute(WINDOW_SIZE);       // Запускаем цикл, пока последний адрес не вернёт контент. Нужно придумать условия выхода!!!!!
			}
			unset($urls);	
		}
	}

	// Сохраним массив в переменную
	file_put_contents(AC_DIR . DIRECTORY_SEPARATOR . 'engines' . DIRECTORY_SEPARATOR . ENGINE_CURR . DIRECTORY_SEPARATOR . 'data' . DIRECTORY_SEPARATOR . date("d.m.y") . '_' . ENGINE_CURR . '_' . ENGINE_TYPE . '_' . EXTRA_PARAM . '.data', serialize($itemsArray));


/**
 * Формируем CSV файл
 *
 * yekaterinburg
 */
$filename = AC_DIR . DIRECTORY_SEPARATOR . 'reports' . DIRECTORY_SEPARATOR . ENGINE_CURR . '_' . ENGINE_TYPE . '_' . EXTRA_PARAM . '.csv';


/** 
 *              Callback Functions           
 */
function callback_one($response, $info, $request) {
  global $regexpP1;
  global $regexpP2;
	global $regexp1;
	global $regexp2;
	global $regexp3;
	global $itemsArray;
	global $errorsArray;
  global $qOfPaginationPages;  
  global $bad_urls;
  global $time_start;
  global $city;
  global $coockiecapt;
  global $array_of_request_urls;

	AngryCurl::add_debug_msg(PHP_EOL.$request->url);
	AngryCurl::add_debug_msg($info['http_code']);
	AngryCurl::add_debug_msg($request->options[10004]);

  if ($info['http_code'] !== 200) {  
	  	if ($info['http_code'] !== 404) {              
	    $bad_urls[] = $request->url;
	  	/**
	  	 * Выходим, если прошло слишком много времени
	  	 */  	
			if (round(microtime(1) - $time_start, 0) >= 180) { $bad_urls = array(); } 
		}
  } else {
  	file_put_contents('/var/www/polaris/engines/kcentr.ru/content.txt', $response);
  	
  	preg_match("~data-target=\"#modalCity\">(.+)</button~isU", $response, $mReg);
  	//print_r($mReg);
  	$mReg[1] = trim(strip_tags($mReg[1]));
  	echo 'Регион: '.$mReg[1].' - '.$city.PHP_EOL;
  	if (trim($mReg[1]) == $city) {//
			@preg_match($regexpP1, $response, $matches);
			//print_r($matches);
			@preg_match_all($regexpP2, $matches[1], $matches2);
			//print_r($matches2);
			$temparrpage = array();
			foreach ($matches2[1] as $key => $value) {
				//echo "key: " . $key . "\n";
				echo "value:" . $value . "\n";
				if (is_numeric($value)) {
					$temparrpage[] = $value;
				}
			}

			if (@max($temparrpage) > $qOfPaginationPages) {
				//echo "Страницы: " . $temparrpage . "\n";
				$qOfPaginationPages = @max($temparrpage);	    	
			}		

	  	preg_match_all($regexp1, $response, $matches2, PREG_SET_ORDER); //
	  	//print_r($matches2);
	  	foreach ($matches2 as $key) {  		
				@preg_match($regexp2, $key[1], $matches);
				//print_r($matches);
				if (@$matches[2] && @$matches[2]) {
					# code...
				
					if (strripos($key[1], 'product-priceCurrent') !== false) {
						price_change_detect('https://' . ENGINE_CURR . trim($matches[1]), trim($matches[2]), preg_replace('~[^\d]+~', '' ,$matches[3]), date("d.m.y-H:i:s"), $request->options[10004], $request->options[10006], $request->options[10018], ENGINE_CURR, ENGINE_TYPE);
						$itemsArray['https://' . ENGINE_CURR . trim($matches[1])] = array(
							trim($matches[2]), 
							trim(preg_replace('~[^\d]+~', '' ,$matches[3])),
							date("d.m.y-H:i:s"),
							$request->options[10004],
							$request->options[10018],
							$request->url
						);		
						echo trim($matches[2]).' | '.preg_replace('~[^\d]+~', '' ,$matches[3]).PHP_EOL;

						

					} else {
						@preg_match($regexp3, $key[1], $matches);
						if (@$matches[2] && @$matches[2]) {
							price_change_detect('https://' . ENGINE_CURR . trim($matches[1]), trim($matches[2]), '0', date("d.m.y-H:i:s"), $request->options[10004], $request->options[10006], $request->options[10018], ENGINE_CURR, ENGINE_TYPE);
							$itemsArray['https://' . ENGINE_CURR . trim($matches[1])] = array(
								trim($matches[2]), 
								'0',
								date("d.m.y-H:i:s"),
								$request->options[10004],
								$request->options[10018],
								$request->url
							);		
							echo trim($matches[2]).' | 0'.PHP_EOL;
						}				
					}
				
				} else {
					@preg_match($regexp3, $key[1], $matches);
					if (@$matches[2] && @$matches[2]) {
						price_change_detect('https://' . ENGINE_CURR . trim($matches[1]), trim($matches[2]), '0', date("d.m.y-H:i:s"), $request->options[10004], $request->options[10006], $request->options[10018], ENGINE_CURR, ENGINE_TYPE);
						$itemsArray['https://' . ENGINE_CURR . trim($matches[1])] = array(
							trim($matches[2]), 
							'0',
							date("d.m.y-H:i:s"),
							$request->options[10004],
							$request->options[10018],
							$request->url
						);		
						echo trim($matches[2]).' | 0'.PHP_EOL;
					}
				}					  		
			}
			file_put_contents(AC_DIR . DIRECTORY_SEPARATOR . 'engines' . DIRECTORY_SEPARATOR . ENGINE_CURR . DIRECTORY_SEPARATOR . 'data' . DIRECTORY_SEPARATOR . date("d.m.y") . '_' . ENGINE_CURR . '_' . ENGINE_TYPE . '_' . EXTRA_PARAM . '.data', serialize($itemsArray));	
	  } else {
	    $bad_urls[] = $request->url;
	  	/**
	  	 * Выходим, если прошло слишком много времени
	  	 */  	
			if (round(microtime(1) - $time_start, 0) >= 180) { $bad_urls = array(); } 	  	
	  }
  }
}

function callback_two($response, $info, $request) {
	global $regexp1;
	global $regexp2;
	global $itemsArray;
	global $errorsArray;
	global $bad_urls;
	global $time_start;
	global $city;
	global $coockiecapt;
	global $array_of_request_urls;

	AngryCurl::add_debug_msg(PHP_EOL.$request->url);
	AngryCurl::add_debug_msg($info['http_code']);
	AngryCurl::add_debug_msg($request->options[10004]);

  if ($info['http_code'] !== 200) {
  	if ($info['http_code'] !== 404) {
	    $bad_urls[] = $request->url;
	  	/**
	  	 * Выходим, если прошло слишком много времени
	  	 */  	
			if (round(microtime(1) - $time_start, 0) >= 180) { $bad_urls = array(); }  
		}       
  } else {	
  	preg_match("~#modalCity\">(.+)</button>~isU", $response, $mReg);
  	//print_r($mReg);
  	echo 'Регион: '.$mReg[1].' - '.$city.PHP_EOL;
  	$mReg[1] = trim(strip_tags($mReg[1]));
  	if (trim($mReg[1]) == $city) {

	  	preg_match_all($regexp1, $response, $matches2, PREG_SET_ORDER); //
	  	foreach ($matches2 as $key) {  		
				preg_match($regexp2, $key[1], $matches);
				if ($matches[1]) {
					if (strripos($key[1], 'class="noisset"') === false) {
						price_change_detect('https://' . ENGINE_CURR . trim($matches[1]), trim($matches[2]), trim(preg_replace('~[^\d]+~', '' ,$matches[3])), date("d.m.y-H:i:s"), $request->options[10004], $request->options[10006], $request->options[10018], ENGINE_CURR, ENGINE_TYPE);
						$itemsArray['https://' . ENGINE_CURR . trim($matches[1])] = array(
							trim($matches[2]), 
							trim(preg_replace('~[^\d]+~', '' ,$matches[3])),
							date("d.m.y-H:i:s"),
							$request->options[10004],
							$request->options[10018],
							$request->url
						);		
						echo trim($matches[2]).' | '.preg_replace('~[^\d]+~', '' ,$matches[3]).PHP_EOL;


						if (!in_array($request->url, $array_of_request_urls)) {
							
							
							// Если цена уменьшилась

							$proxyArr = explode(':', $request->options[10004]);
							$authArr = explode(':', $request->options[10006]); 
							
							preg_match("~content-title\">(.+)<~", $response, $name);
							
							// The Core Command:
							$cmd = 'casperjs /var/www/polaris/engines/kcentr.ru/capture.js '.
								escapeshellarg($request->url).' '. 								// 0 url
								escapeshellarg($request->options[10018]).' '. 		// 1 user-agent
								$proxyArr[0].' '.																	// 2 proxy-address
								$proxyArr[1].' '.																	// 3 proxy-port
								$authArr[0].' '.																	// 4 auth-user
								$authArr[1].' '.																	// 5 auth-password
								escapeshellarg($coockiecapt).' '.									// 6 cookies
								escapeshellarg($name[1]).' '.											// 7 имя файла, отождествляется с именем товара
								escapeshellarg($city);														// 8 city
							
							//die("$cmd > /dev/null 2>/dev/null &");
							//echo "$cmd > /dev/null 2>/dev/null &".PHP_EOL;
							//exec("$cmd > /dev/null 2>/dev/null &");
							$array_of_request_urls[] = $request->url;
							
							// Если цена уменьшилась
						}


					} else {
						price_change_detect('https://' . ENGINE_CURR . trim($matches[1]), trim($matches[2]), '0', date("d.m.y-H:i:s"), $request->options[10004], $request->options[10006], $request->options[10018], ENGINE_CURR, ENGINE_TYPE);
						$itemsArray['https://' . ENGINE_CURR . trim($matches[1])] = array(
							trim($matches[2]), 
							'0',
							date("d.m.y-H:i:s"),
							$request->options[10004],
							$request->options[10018],
							$request->url
						);		
						echo trim($matches[2]).' | 0'.PHP_EOL;
					}
				} 

			} 
			file_put_contents(AC_DIR . DIRECTORY_SEPARATOR . 'engines' . DIRECTORY_SEPARATOR . ENGINE_CURR . DIRECTORY_SEPARATOR . 'data' . DIRECTORY_SEPARATOR . date("d.m.y") . '_' . ENGINE_CURR . '_' . ENGINE_TYPE . '_' . EXTRA_PARAM . '.data', serialize($itemsArray));	
		} else {
	    $bad_urls[] = $request->url;
	  	/**
	  	 * Выходим, если прошло слишком много времени
	  	 */  	
			if (round(microtime(1) - $time_start, 0) >= 180) { $bad_urls = array(); } 	  	
	  }
  }
}